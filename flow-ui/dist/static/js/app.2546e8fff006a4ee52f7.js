webpackJsonp([1],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=n("VU/8")({name:"App"},s,!1,function(e){n("UAKA")},null,null).exports,o=n("/ocq"),c=n("2sCs"),i=n.n(c),u=n("uAC3"),l=n.n(u),p=n("eDbX"),m=n.n(p),h={title:function(e){e=e||"steps demo",window.document.title=e}},d="http://localhost:2020/";h.ajaxUrl=d,h.ajax=i.a.create({baseURL:d,timeout:3e4}),h.post=function(e,t){var n=this,r=l.a.get("userInfo")?JSON.parse(l.a.get("userInfo")).token:"";return t?t.token=r:t={token:r},i()({method:"post",baseURL:d,url:e,data:t,timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+r}}).then(function(e){return n.checkStatus(e)})},h.checkStatus=function(e){return!e||200!==e.status&&304!==e.status&&400!==e.status?(p.Message.warning("网络异常"),{status:-404,msg:"网络异常"}):e};var f=h,g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("Upload",{attrs:{action:this.url,"on-success":this.handleSuccess,"before-upload":this.handleBeforeUpload}},[t("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline"}},[this._v("上传文件")])],1)},staticRenderFns:[]},v=n("VU/8")({name:"SingleImgUpload",props:["uploadUrl"],data:function(){return{url:""}},created:function(){this.url=this.uploadUrl},methods:{handleSuccess:function(e,t){this.$Message.success("上传成功!"),this.$emit("imgInfo",t)},handleBeforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,n=e.size/1024/1024<2;return t||this.$Message.error("上传头像图片只能是 JPG/PNG 格式!"),n||this.$Message.error("上传头像图片大小不能超过 2MB!"),t&&n}}},g,!1,null,null,null).exports,_=n("RRo+"),k=n.n(_),F={name:"uploadForm",components:{SingleImgUpload:v},data:function(){return{uploadUrl:f.ajaxUrl+"file/",checkMsgForm:{name:"用户名称呢",age:22,headPic:""},checkMsgRule:{name:[{type:"string",min:5,max:10,message:"the username size shall be no more than 10 chars and no less than 5 chars ",trigger:"blur"}],age:[{validator:function(e,t,n){if(!t)return n(new Error("Age cannot be empty"));setTimeout(function(){k()(t)?t<18?n(new Error("Must be over 18 years of age")):n():n(new Error("Please enter a numeric value"))},200)},trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?f.post("/info",t.checkMsgForm).then(function(e){t.$Message.success("Success!"),t.$emit("setFormData",t.checkMsgForm),t.$emit("next")}):t.$Message.error("Fail!")})},handleReset:function(e){this.$refs[e].resetFields()},handlePic:function(e){this.checkMsgForm.headPic=e.name}}},U={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Form",{ref:"checkMsgForm",attrs:{model:e.checkMsgForm,rules:e.checkMsgRule}},[n("FormItem",{attrs:{label:"用户名",prop:"name"}},[n("Input",{attrs:{type:"text"},model:{value:e.checkMsgForm.name,callback:function(t){e.$set(e.checkMsgForm,"name",t)},expression:"checkMsgForm.name"}})],1),e._v(" "),n("FormItem",{attrs:{label:"年龄",prop:"age"}},[n("Input",{attrs:{type:"text",number:""},model:{value:e.checkMsgForm.age,callback:function(t){e.$set(e.checkMsgForm,"age",t)},expression:"checkMsgForm.age"}})],1),e._v(" "),n("FormItem",{attrs:{label:"头像",prop:"headPic"}},[n("SingleImgUpload",{attrs:{id:"head-pic-upload",uploadUrl:e.uploadUrl},on:{imgInfo:e.handlePic}})],1),e._v(" "),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("checkMsgForm")}}},[e._v("Submit")]),e._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(t){e.handleReset("checkMsgForm")}}},[e._v("Reset")])],1)],1)},staticRenderFns:[]},x={name:"firstCheck",props:["formData"],data:function(){return{data:{},picUrl:""}},created:function(){this.data=this.formData,this.picUrl=f.ajaxUrl+"/file/get?filename="+this.data.headPic,console.log(this.picUrl)},methods:{access:function(){this.$emit("next")},refuse:function(){this.$emit("prev")}}},S={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  用户名: "+e._s(e.data.name)),n("br"),e._v("\n  年龄: "+e._s(e.data.age)+" "),n("br"),e._v("\n  头像: "),n("img",{attrs:{src:e.picUrl,width:"200"}}),n("br"),e._v(" "),n("Button",{attrs:{type:"primary"},on:{click:function(t){e.access()}}},[e._v("通过")]),e._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(t){e.refuse()}}},[e._v("拒绝")])],1)},staticRenderFns:[]},M={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  this is secondCheck\n  "),n("br"),e._v(" "),n("Button",{attrs:{type:"primary"},on:{click:function(t){e.access()}}},[e._v("通过")]),e._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(t){e.refuse()}}},[e._v("拒绝")])],1)},staticRenderFns:[]},b={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n  this is result\n")])},staticRenderFns:[]},$={name:"HelloWorld",components:{uploadForm:n("VU/8")(F,U,!1,null,null,null).exports,firstCheck:n("VU/8")(x,S,!1,null,null,null).exports,secondCheck:n("VU/8")({name:"secondCheck",methods:{access:function(){this.$emit("next")},refuse:function(){this.$emit("prev")}}},M,!1,null,null,null).exports,result:n("VU/8")({name:"result"},b,!1,null,null,null).exports,SingleImgUpload:v},data:function(){return{current:0,formData:{}}},methods:{setFormData:function(e){this.formData=e},nextStep:function(){this.current++},prevStep:function(){this.current--}}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Row",[n("Col",{attrs:{span:"18",offset:"3"}},[n("Card",[n("Steps",{attrs:{current:e.current}},[n("Step",{attrs:{title:"提交基础信息",content:"上传基础用户信息"}}),e._v(" "),n("Step",{attrs:{title:"初核",content:"审核基础信息"}}),e._v(" "),n("Step",{attrs:{title:"复审",content:"复审基础信息"}}),e._v(" "),n("Step",{attrs:{title:"审核结果",content:"展示审核结果"}})],1),e._v(" "),0==e.current?n("upload-form",{on:{setFormData:e.setFormData,next:e.nextStep}}):e._e(),e._v(" "),1==e.current?n("first-check",{attrs:{formData:e.formData},on:{next:e.nextStep,prev:e.prevStep}}):e._e(),e._v(" "),2==e.current?n("second-check",{on:{next:e.nextStep,prev:e.prevStep}}):e._e(),e._v(" "),3==e.current?n("result"):e._e()],1)],1)],1)],1)},staticRenderFns:[]},R=n("VU/8")($,y,!1,null,null,null).exports;r.default.use(o.a);var I=new o.a({routes:[{path:"/",name:"index",component:R}]});n("YOSD");r.default.config.productionTip=!1,r.default.use(m.a),new r.default({el:"#app",router:I,render:function(e){return e(a)},components:{App:a},template:"<App/>"})},UAKA:function(e,t){},YOSD:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.2546e8fff006a4ee52f7.js.map